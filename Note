1. Chu y loi thay giang
2. rake routes de tim routes, sau do ung routes do voi link_to

In book controller:
    before_action :authenticate_user!

To generate log_out:  
    <%= link_to "ログアウト", destroy_user_session_path, method: :delete %>
        
Set image:
    Cac file cần chỉnh:
    book controller, book_params:
        params.require(:book).permit(:title, :number_of_pages, :image)
        
Thêm trường name và age:
    db -> migrate
    chỉnh trong file file add_name and age:
    
class AddNameAndAge < ActiveRecord::Migration[6.0]
  def change
    add_column :users, :name, :string
    add_column :users, :age, :integer
    add_index :users, :name, unique: true
  end
end

Trong models -> user.rb
  validates_presence_of :name
  validates_presence_of :age


application controller:
class ApplicationController < ActionController::Base
	before_action :configure_permitted_parameters, if: :devise_controller?

      protected
         def configure_permitted_parameters
             devise_parameter_sanitizer.permit :sign_up, keys: [:name, :age, :avatar]
             devise_parameter_sanitizer.permit :account_update, keys: [:name, :age, :avatar]
         end
end

class UsersController < ApplicationController
  def show
    @user = current_user
  end
end


avatar:
models -> user.rb
    has_one_attached :avatar
    
    <h1>プロフィール</h1>
   <% if @current_user.avatar.attached? %>
     <%= image_tag @current_user.avatar %>
   <% end %>
   
   ----------------------------------
   Thêm trường detail:
   In migrate: add file - file will add new colulmn
   add_column :books, :detail, :text
   
   In book controller:
    params.require(:book).permit(:title, :number_of_pages, :detail, :image)

   Nếu thêm trường mới mà ko đc (trong schema nó không hiển thị) => xóa database đi thử lại
   rails db:drop
   rails db:create
   rails db:migrate
    ----------------------------------